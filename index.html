<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nicolas Antonio Smaniotto</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/title.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/conteudo/conteudo_elemento.css">
    <link rel="icon" href="icons/favicon.svg" />
</head>
<body>
    <div title="div_titulo" class='div_titulo'>
        <h1 class='titulo_topo'>
            Nicolas Antonio Smaniotto
        </h1>
        <div class="menu_topo" id='menu-topo'>
            <ul>
                <li>
                    <a href="http://nicolassmaniotto.github.io">HOME </a>
                </li>
                <li>
                    <!-- <a href="https://github.com/Nicolassmaniotto">PROJETOS</a> -->
                    <a onclick='verifica_url()' href="#projetos">PROJETOS </a>
                </li>
                <li>
                    <a onclick='verifica_url()' href="#curriculo">CURRICULO </a>
                </li>
            </ul>
        </div>
    </div>
    <center>
        <div id='conteudo'>

        </div>
    </center>


<template>
    <center>
        <iframe onload="resizeIframe(`${this.id}`)" scrolling="no" style="border:0;" src=''>
        </iframe>
    </center>
</template>
    
</body>
<script type="text/javascript" src="js/json_ fetch.js"></script>
<script type="text/javascript" src="js/api_git/repos.js"></script>
<script type="text/javascript" src="js/html_fetch.js"></script>
<script type="text/javascript" src="js/conteudo_XMLHttpRequest.js"></script>
<script>
    function verifica_url(){
        
        setTimeout(()=>{
            let local = window.location.href;
            let hostname = window.location.hostname;
            let path = window.location.pathname;
            let split = local.split('#');

            // document.getElementById('conteudo').innerHTML = split[1];
            if(split[1] == 'projetos'){
                chamada_repo();
            }else if(split[1] == 'curriculo'){
                chamada_curriculo();
            }else{
                chamada_curriculo();
            }
        },50)
    }
    verifica_url();
    function chamada_repo(){
        let url = 'https://api.github.com/users/Nicolassmaniotto/repos';
        json_fetch(url,'conteudo',json_repo)
    }
    function chamada_readme(name_def,id_def){
        let id_conteudo= `conteudo_${id_def}`;
        let conteudo = document.getElementById(id_conteudo);
        // console.log(conteudo.innerText)
        if(!conteudo.innerText){
            let url = `https://raw.githubusercontent.com/Nicolassmaniotto/${name_def}/main/README.md`;
            console.log(url)
            carrega_XMLHttpRequest(url,id_conteudo);
        }else{
            f_hidden(id_conteudo);
        }
       

        // document.getElementById(id_iframe).src = url;
    }
    function chamada_curriculo(){
        let url = 'arquivos/curriculo/nicolas_antonio_smaniotto.html';
        console.log(url);
        let id_iframe= `iframe_curriculo`;
        let tempIframe =document.getElementsByTagName('template')[0];
        item = tempIframe.content.querySelector("iframe");
        item.id = id_iframe;
        item.src = url;
        console.log();
        document.getElementById('conteudo').innerHTML = `
        <a href='arquivos/curriculo/nicolas_antonio_smaniotto.pdf'>VER EM PDF</a>
        ${tempIframe.innerHTML}`;
    }
    function resizeIframe(pos) {
        let iFrame = document.getElementById(pos);
        iFrame.width  = iFrame.contentWindow.document.body.scrollWidth;
        iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
        }
    function f_hidden(pos){ 
    //pega o o component HIDDEN do item
    bool = document.getElementById(pos).hidden;
    //inverte o valor do HIDDEN do item
    document.getElementById(pos).hidden = !bool ;
    }
</script>
<script>
    verifica_url()
</script>
</html>